colourscheme='molokai'
vimversion='vim80'
bashrc=$(<~/.bashrc)
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

cd $DIR
{
    git pull
    git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
} &> /dev/null

echo ____________
echo Updating vim
echo ____________

rm -f ~/.vimrc
rm -f /usr/share/vim/$vimversion/colors/$colourscheme.vim
echo Deleted old files..

ln .vimrc ~/.vimrc
cp $colourscheme.vim /usr/share/vim/$vimversion/colors/$colourscheme.vim
echo Linked new files..

echo Installing plugins..
vim +PluginClean +qall
vim +PluginInstall +qall
vim +PluginUpdate +qall

if [[ ! $bashrc =~ vimupdate ]]
then
    echo alias vimupdate=\"bash $PWD/setup\" >> ~/.bashrc
fi
    
echo Done! You can now use Vim. use vimupdate to run this script again
echo
